# CGDA local config (copy to cgda/.env, do NOT commit secrets)

# ---- Gemini ----
# Required only if you want real Gemini enrichment. If empty, the backend may use fallback heuristics where available.
GEMINI_API_KEY=

# Optional model overrides
GEMINI_MODEL_PRIMARY=gemini-3-pro
GEMINI_MODEL_FALLBACK=gemini-3-flash
GEMINI_TEMPERATURE=0.1
GEMINI_MAX_OUTPUT_TOKENS=256

# Raw dataset unique id column name. If your CSV has `id` (not `grievance_id`), set:
ID_COLUMN=id

# ---- Backend ----
JWT_SECRET=dev-secret
CORS_ORIGINS=http://localhost:3000

# Temporary: disable login/JWT checks (internal demo / iframe embedding)
DISABLE_AUTH=true

# ---- Frontend (build-time) ----
# IMPORTANT: This is baked into the frontend bundle at build time (Docker build arg).
# - Local: http://localhost:8000
# - Production: set to your backend URL, or a same-origin proxy path like /api or /cgda/api
VITE_API_BASE_URL=http://localhost:8000

# Auto-preload behavior on backend startup:
# - preprocess full raw2 file
# - build __id_unique + __run1_100
# - run Gemini on only AUTO_PRELOAD_LIMIT rows (default 100)
AUTO_PRELOAD_ON_STARTUP=true
AUTO_PRELOAD_LIMIT=100

# Stage size for the fixed app dataset source `processed_data_500`.
# Examples:
# - 5 (tiny debug)
# - 200 / 1000 (quick demo)
# - 10000 (heavier run; will take time and may hit Gemini quota)
AUTO_STAGE_ROWS=500

# Keep false unless you intentionally want to wipe DB on every container start
RECREATE_DB_ON_STARTUP=false

# ---- File pipeline folders (Docker mounts cgda/data -> /app/data) ----
DATA_RAW2_DIR=/app/data/raw2
DATA_PREPROCESS_DIR=/app/data/preprocess
DATA_STAGE_DIR=/app/data/stage_data
DATA_AI_OUTPUTS_DIR=/app/data/ai_outputs
DATA_OUTPUTS_DIR=/app/data/outputs


